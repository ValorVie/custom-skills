# Project Structure Standard - AI Optimized (v2 Dual-Layer)
# Source: core/project-structure.md

standard:
  id: project-structure
  name: Project Structure Standard
  description: Conventions for project directory structure
  
  guidelines:
    - "Always gitignore build output directories (dist/, build/, out/, bin/)"
    - "Follow language-specific conventions for src/ structure"
    - "Place tests in tests/ or alongside source (language-dependent)"
    - "Group scripts in tools/ with subdirectories by purpose"

  meta:
    version: "2.0.0"
    updated: "2026-02-04"
    source: core/project-structure.md
    description: Conventions for project directory structure

  options:
    project_language:
      description: Choose project language/platform
      choices:
        - id: dotnet
          file: options/project-structure/dotnet.ai.yaml
        - id: nodejs
          file: options/project-structure/nodejs.ai.yaml
        - id: python
          file: options/project-structure/python.ai.yaml
        - id: java
          file: options/project-structure/java.ai.yaml
        - id: go
          file: options/project-structure/go.ai.yaml
        - id: rust
          file: options/project-structure/rust.ai.yaml
        - id: kotlin
          file: options/project-structure/kotlin.ai.yaml
        - id: php
          file: options/project-structure/php.ai.yaml
        - id: ruby
          file: options/project-structure/ruby.ai.yaml
        - id: swift
          file: options/project-structure/swift.ai.yaml

  structure:
    common:
      - dir: src/
        purpose: Source code
        gitignore: false
      - dir: tests/
        purpose: Test files
        gitignore: false
      - dir: docs/
        purpose: Documentation
        gitignore: false
      - dir: tools/
        purpose: Development/deployment scripts
        gitignore: false
        subdirs: [deployment/, migration/, scripts/]
      - dir: examples/
        purpose: Usage examples
        gitignore: false

    build_output:
      - dir: dist/
        purpose: Distribution output
        gitignore: true
      - dir: build/
        purpose: Compiled artifacts
        gitignore: true
      - dir: out/
        purpose: Output directory
        gitignore: true
      - dir: bin/
        purpose: Binary executables
        gitignore: true

    config:
      - dir: .github/
        purpose: GitHub configs
        gitignore: false
      - dir: .standards/
        purpose: Development standards
        gitignore: false
      - dir: config/
        purpose: Configuration files
        gitignore: false

  rules:
    - id: gitignore-build
      trigger: creating project
      instruction: Always gitignore build output directories (dist/, build/, out/, bin/)
      priority: required
    - id: src-structure
      trigger: organizing source code
      instruction: Follow language-specific conventions for src/ structure
      priority: required
    - id: tests-location
      trigger: organizing tests
      instruction: Place tests in tests/ or alongside source (language-dependent)
      priority: recommended
    - id: tools-organization
      trigger: adding scripts
      instruction: Group scripts in tools/ with subdirectories by purpose
      priority: recommended

physical_spec:
  type: filesystem_schema
  schema:
    root:
      required: ["src", "tests", "docs"]
      ignored: ["dist", "build", "node_modules", "out", "bin"]
  validator:
    command: "find . -maxdepth 1 -not -path '*/.*'"
    rule: "check_required_directories"