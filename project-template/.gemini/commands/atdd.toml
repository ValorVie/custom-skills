# atdd command - converted from UDS
description = "Guide through Acceptance Test-Driven Development workflow"

prompt = """

## Arguments
User provided: {{args}}

# ATDD Assistant | ATDD åŠ©æ‰‹

> [!WARNING]
> **Experimental Feature / å¯¦é©—æ€§åŠŸèƒ½**
>
> This feature is under active development and may change significantly in v4.0.
> æ­¤åŠŸèƒ½æ­£åœ¨ç©æ¥µé–‹ç™¼ä¸­ï¼Œå¯èƒ½åœ¨ v4.0 ä¸­æœ‰é‡å¤§è®Šæ›´ã€‚

Guide through the Acceptance Test-Driven Development (ATDD) workflow for defining and implementing user stories.

å¼•å°é©—æ”¶æ¸¬è©¦é©…å‹•é–‹ç™¼ï¼ˆATDDï¼‰æµç¨‹ï¼Œç”¨æ–¼å®šç¾©å’Œå¯¦ä½œä½¿ç”¨è€…æ•…äº‹ã€‚

## Methodology Integration | æ–¹æ³•è«–æ•´åˆ

When `/atdd` is invoked:
1. **Automatically activate ATDD methodology** if not already active
2. **Set current phase to SPECIFICATION-WORKSHOP** (defining acceptance criteria)
3. **Track phase transitions** as work progresses
4. **Show phase indicators** in responses (ğŸ¤ Workshop, ğŸ§ª Distillation, ğŸ’» Development, ğŸ¬ Demo, âœ… Done)

ç•¶èª¿ç”¨ `/atdd` æ™‚ï¼š
1. **è‡ªå‹•å•Ÿç”¨ ATDD æ–¹æ³•è«–**ï¼ˆå¦‚æœå°šæœªå•Ÿç”¨ï¼‰
2. **å°‡ç•¶å‰éšæ®µè¨­ç‚ºè¦æ ¼å·¥ä½œåŠ**ï¼ˆå®šç¾©é©—æ”¶æ¢ä»¶ï¼‰
3. **è¿½è¹¤éšæ®µè½‰æ›**éš¨è‘—å·¥ä½œé€²å±•
4. **åœ¨å›æ‡‰ä¸­é¡¯ç¤ºéšæ®µæŒ‡ç¤ºå™¨**ï¼ˆğŸ¤ å·¥ä½œåŠã€ğŸ§ª æç…‰ã€ğŸ’» é–‹ç™¼ã€ğŸ¬ å±•ç¤ºã€âœ… å®Œæˆï¼‰

See [methodology-system](../methodology-system/SKILL.md) for full methodology tracking.

## ATDD Cycle | ATDD å¾ªç’°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ WORKSHOP â”‚â–º â”‚ DISTILL   â”‚â–º â”‚ DEVELOP   â”‚â–º â”‚ DEMO â”‚â–º â”‚ DONE â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚       â–²                              â”‚              â”‚           â”‚
â”‚       â”‚                              â”‚              â”‚           â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                  (Refinement needed)                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Workflow | å·¥ä½œæµç¨‹

### 1. SPECIFICATION WORKSHOP - Define AC | å®šç¾©é©—æ”¶æ¢ä»¶
- PO presents user story
- Team asks clarifying questions
- Define acceptance criteria together
- Document out of scope items

### 2. DISTILLATION - Convert to Tests | è½‰æ›ç‚ºæ¸¬è©¦
- Convert AC to executable test format
- Remove ambiguity
- Get PO sign-off

### 3. DEVELOPMENT - Implement | å¯¦ä½œ
- Run acceptance tests (should fail initially)
- Use BDD/TDD for implementation
- Iterate until all tests pass

### 4. DEMO - Present to Stakeholders | å‘åˆ©å®³é—œä¿‚äººå±•ç¤º
- Show passing acceptance tests
- Demonstrate working functionality
- Get formal PO acceptance

### 5. DONE - Complete | å®Œæˆ
- PO accepted
- Code merged
- Story closed

## User Story Template | ä½¿ç”¨è€…æ•…äº‹æ¨¡æ¿

```markdown
## User Story: [Title]

**As a** [role]
**I want** [feature]
**So that** [benefit]

## Acceptance Criteria

### AC-1: [Happy path]
**Given** [precondition]
**When** [action]
**Then** [expected result]

### AC-2: [Error scenario]
**Given** [precondition]
**When** [invalid action]
**Then** [error handling]

## Out of Scope
- [Things explicitly not included]

## Technical Notes
- [Implementation hints]
```

## INVEST Criteria | INVEST æº–å‰‡

| Criteria | Description | æè¿° |
|----------|-------------|------|
| **I**ndependent | Can be developed independently | å¯ç¨ç«‹é–‹ç™¼ |
| **N**egotiable | Details can be discussed | ç´°ç¯€å¯å”å•† |
| **V**aluable | Delivers business value | æä¾›å•†æ¥­åƒ¹å€¼ |
| **E**stimable | Can be estimated | å¯ä¼°ç®— |
| **S**mall | Fits in one sprint | ä¸€å€‹ Sprint å¯å®Œæˆ |
| **T**estable | Clear acceptance criteria | æœ‰æ˜ç¢ºé©—æ”¶æ¢ä»¶ |

## Integration with BDD/TDD | èˆ‡ BDD/TDD æ•´åˆ

```
ATDD Level (Business Acceptance)
  â”‚
  â””â”€â–¶ BDD Level (Behavior Specification)
         â”‚
         â””â”€â–¶ TDD Level (Unit Implementation)
```

## Usage | ä½¿ç”¨æ–¹å¼

- `/atdd` - Start interactive ATDD session
- `/atdd "user can reset password"` - ATDD for specific feature
- `/atdd US-123` - ATDD for existing user story

## Phase Checklist | éšæ®µæª¢æŸ¥æ¸…å–®

### Workshop Phase
- [ ] PO present
- [ ] User story explained
- [ ] AC in Given-When-Then
- [ ] Out of scope documented

### Distillation Phase
- [ ] AC converted to executable tests
- [ ] Tests are unambiguous
- [ ] PO signed off

### Development Phase
- [ ] Acceptance tests fail initially
- [ ] BDD/TDD used for implementation
- [ ] All acceptance tests pass

### Demo Phase
- [ ] Demo environment ready
- [ ] Tests shown passing
- [ ] PO formally accepts

## Reference | åƒè€ƒ

- Core Standard: [acceptance-test-driven-development.md](../../../../core/acceptance-test-driven-development.md)
- Skill: [atdd-assistant](../atdd-assistant/SKILL.md)
- Methodology: [atdd.methodology.yaml](../../../../methodologies/atdd.methodology.yaml)
- Methodology System: [methodology-system](../methodology-system/SKILL.md)
"""