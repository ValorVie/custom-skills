# Design: 第三方資源目錄系統

## Context

### 背景
- 專案已有 `upstream/` 系統追蹤並自動同步已整合的第三方資源(如 superpowers, ECC 等)
- 使用者發現外部專案(如 wshobson/agents)提供大量可參考功能
- 需要一個機制讓使用者探索、評估和選擇性採用外部資源,而不影響核心系統

### 約束
- 不能干擾現有的 `upstream/` 同步機制
- 必須保持專案的輕量化,避免引入不必要的依賴
- 必須使用繁體中文撰寫文件(技術術語保留英文)

### 利害關係人
- **使用者**: 希望探索更多 AI 輔助開發工具和資源
- **維護者**: 需要清晰的邊界區分「已整合」與「參考資源」

## Goals / Non-Goals

### Goals
- 提供統一的第三方專案資訊入口
- 標準化專案資訊格式(功能清單、安裝指南)
- 建立評估流程,幫助使用者判斷是否採用特定資源
- 讓使用者能手動安裝並整合到自己的環境

### Non-Goals
- **不自動同步**第三方專案內容(這是 upstream/ 的職責)
- **不評估**第三方專案的程式碼品質(僅提供功能描述)
- **不提供**一鍵安裝腳本(使用者需手動操作以理解整合過程)
- **不取代** upstream/ 系統(兩者定位不同)

## Decisions

### Decision 1: 獨立目錄 vs 整合到 upstream/

**選擇**: 建立獨立的 `third-party/` 目錄

**理由**:
- **清晰分離關注點**:
  - `upstream/` = 已整合、自動追蹤、定期同步
  - `third-party/` = 待評估、手動探索、參考資訊
- **避免混淆**: 使用者可清楚區分「已納入標準」與「可選資源」
- **降低維護負擔**: 第三方資源不需要同步狀態追蹤

**替代方案**:
- ❌ 擴展 upstream/ 加入 "catalog" 類別 → 會混淆同步機制的邊界
- ❌ 使用 docs/ 存放 → 缺乏標準化結構,難以管理

### Decision 2: 資料格式

**選擇**: Markdown 檔案 + 標準化模板

**理由**:
- 與專案既有文件風格一致
- 易於版本控制和協作
- 支援豐富的格式化內容(表格、程式碼區塊、連結)
- 無需額外工具即可瀏覽

**替代方案**:
- ❌ YAML/JSON → 機器可讀但人類閱讀體驗差
- ❌ Wiki → 需要額外基礎設施

### Decision 3: 目錄結構

**選擇**:
```
third-party/
├── README.md              # 索引入口
├── templates/             # 文件模板
│   ├── project-entry.md   # 專案資訊模板
│   └── evaluation-checklist.md
└── catalog/               # 各專案資訊
    ├── wshobson-agents.md
    ├── other-project.md
    └── ...
```

**理由**:
- `templates/` 確保新增專案時格式一致
- `catalog/` 集中管理所有第三方專案資訊
- 扁平化結構,避免過度分類

**替代方案**:
- ❌ 按類別分層(agents/, skills/, tools/) → wshobson/agents 橫跨多類別,難以分類
- ❌ 按作者分類 → 不利於功能探索

### Decision 4: 與 upstream/ 的整合路徑

**流程設計**:
```
1. 探索階段: 將專案加入 third-party/catalog/
2. 評估階段: 使用者手動測試功能
3. 決策階段: 若決定整合,則新增 OpenSpec proposal
4. 整合階段: 加入 upstream/sources.yaml,納入自動同步
```

**理由**:
- 提供漸進式採用路徑
- 降低盲目整合的風險
- 保持 upstream/ 的精選性質

## Risks / Trade-offs

### Risk 1: 第三方資訊過時
- **風險**: 專案資訊可能與 GitHub 最新狀態不同步
- **緩解**: 在每個檔案標註「最後更新日期」和「來源版本」

### Risk 2: 使用者混淆 third-party/ 與 upstream/
- **風險**: 誤以為 third-party/ 內容已整合
- **緩解**: 在 README 明確說明兩者差異,使用不同的術語("參考資源" vs "已整合資源")

### Risk 3: 維護負擔
- **風險**: 大量第三方專案難以持續更新資訊
- **緩解**: 採用「社群貢獻」模式,鼓勵使用者提交 PR 更新資訊

### Trade-off: 手動 vs 自動
- **選擇**: 要求使用者手動安裝
- **優點**: 使用者理解整合過程,避免黑盒操作
- **缺點**: 增加使用門檻
- **判斷**: 本專案目標使用者為開發者,手動操作是可接受的

## Migration Plan

### 初始階段
1. 建立目錄結構和模板
2. 新增 wshobson/agents 作為第一個範例
3. 更新專案文件說明新功能

### 推廣階段
1. 在 README 中突出顯示第三方資源目錄
2. 鼓勵社群貢獻更多專案資訊

### 長期維護
1. 定期檢查已收錄專案的狀態
2. 移除已不維護的專案或標註為「存檔」

### Rollback 計畫
- 如需回滾,僅需刪除 `third-party/` 目錄
- 不影響任何現有功能

## Open Questions

### Q1: 是否需要評分或推薦機制?
- **考量**: 避免主觀評價,保持客觀描述
- **暫定**: 不加入評分,僅提供功能描述和適用場景

### Q2: 是否接受商業專案或付費工具?
- **考量**: 本專案為開源工具集合
- **暫定**: 僅收錄開源專案(MIT, Apache 2.0 等寬鬆授權)

### Q3: 如何處理重複功能?
- **考量**: 多個專案可能提供類似功能
- **暫定**: 在各專案資訊中加入「替代方案」章節,說明差異
