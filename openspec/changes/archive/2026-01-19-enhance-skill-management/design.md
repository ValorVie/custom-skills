# Design: enhance-skill-management

## Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLI Commands (Typer)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ install  â”‚ maintain â”‚  status  â”‚   list   â”‚     toggle     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚          â”‚          â”‚          â”‚              â”‚
     â–¼          â–¼          â–¼          â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      utils/shared.py                        â”‚
â”‚  - copy_skills()     - list_installed_resources()          â”‚
â”‚  - get_all_sources() - load_toggle_config()                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Toggle Config (YAML)                      â”‚
â”‚  ~/.config/custom-skills/toggle-config.yaml                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      TUI (Textual)                          â”‚
â”‚  uv run script/main.py tui                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Install   â”‚  â”‚   Maintain  â”‚  â”‚ Add Skills  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚              Skills/Commands/Agents List        â”‚       â”‚
â”‚  â”‚  [x] commit-standards     (uds)                 â”‚       â”‚
â”‚  â”‚  [x] obsidian-markdown    (obsidian)            â”‚       â”‚
â”‚  â”‚  [ ] skill-creator        (anthropic)           â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Design

### 1. Install å¾Œè­¦å‘Šæ©Ÿåˆ¶

**ä½ç½®**ï¼š`script/commands/install.py`

**é‚è¼¯**ï¼š
```python
def show_installed_skills_warning():
    """å®‰è£å®Œæˆå¾Œé¡¯ç¤ºå·²å®‰è£çš„ skill æ¸…å–®èˆ‡é‡è¤‡åç¨±è­¦å‘Šã€‚"""
    skills = list_installed_skills()
    console.print("[yellow]âš ï¸ å·²å®‰è£çš„ Skillsï¼ˆè«‹é¿å…ä½¿ç”¨é‡è¤‡åç¨±ï¼‰ï¼š[/yellow]")
    for skill in sorted(skills):
        console.print(f"  - {skill}")
    console.print()
    console.print("[cyan]ğŸ’¡ æç¤ºï¼šä½¿ç”¨ `npx skills` å¯å®‰è£ç¬¬ä¸‰æ–¹ skills[/cyan]")
    console.print("   å¯ç”¨æŒ‡ä»¤ï¼š")
    console.print("   - npx skills add <package>  å®‰è£ skill å¥—ä»¶")
    console.print("   - npx skills list           åˆ—å‡ºå·²å®‰è£å¥—ä»¶")
```

### 2. List æŒ‡ä»¤è¨­è¨ˆ

**æ–°å¢æª”æ¡ˆ**ï¼š`script/commands/list.py`

**æŒ‡ä»¤çµæ§‹**ï¼š
```bash
uv run script/main.py list [--type skills|commands|agents] [--target claude|antigravity|opencode]
```

**è¼¸å‡ºç¯„ä¾‹**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Skills (Claude Code: ~/.claude/skills/)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åç¨±                â”‚ ä¾†æº                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ commit-standards    â”‚ universal-dev-standards   â”‚
â”‚ obsidian-markdown   â”‚ obsidian-skills           â”‚
â”‚ skill-creator       â”‚ anthropic-skills          â”‚
â”‚ my-custom-skill     â”‚ user                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Toggle é–‹é—œæ©Ÿåˆ¶è¨­è¨ˆ

**é…ç½®æª”æ¡ˆ**ï¼š`~/.config/custom-skills/toggle-config.yaml`

```yaml
# å„å·¥å…·çš„è³‡æºå•Ÿç”¨è¨­å®š
claude:
  skills:
    enabled: true
    disabled:
      - "some-skill-to-disable"
  commands:
    enabled: true
    disabled: []

antigravity:
  skills:
    enabled: true
    disabled: []
  workflows:
    enabled: true
    disabled: []

opencode:
  agents:
    enabled: true
    disabled: []
```

**è¤‡è£½é‚è¼¯ä¿®æ”¹**ï¼š
```python
def copy_skills():
    config = load_toggle_config()

    for target, settings in config.items():
        if not settings.get('skills', {}).get('enabled', True):
            continue

        disabled = settings.get('skills', {}).get('disabled', [])
        # è¤‡è£½æ™‚æ’é™¤ disabled åˆ—è¡¨ä¸­çš„é …ç›®
```

**æŒ‡ä»¤ä»‹é¢**ï¼š
```bash
# å•Ÿç”¨/åœç”¨ç‰¹å®šè³‡æº
uv run script/main.py toggle --target claude --type skills --name commit-standards --disable
uv run script/main.py toggle --target claude --type skills --name commit-standards --enable

# æŸ¥çœ‹ç›®å‰ç‹€æ…‹
uv run script/main.py toggle --list
```

### 4. Skills NPM å¥—ä»¶ç¶­è­·

**ç°¡åŒ–è¨­è¨ˆ**ï¼šä¸æ·±åº¦æ•´åˆï¼Œåƒ…ç¶­è­·å¥—ä»¶ä¸¦æç¤ºä½¿ç”¨è€…

**ä¿®æ”¹ä½ç½®**ï¼š
- `utils/shared.py`ï¼šåœ¨ `NPM_PACKAGES` åŠ å…¥ `skills`
- `commands/install.py`ï¼šå®‰è£å¾Œé¡¯ç¤º `npx skills` å¯ç”¨æŒ‡ä»¤
- `commands/status.py`ï¼šé¡¯ç¤º skills å¥—ä»¶ç‹€æ…‹èˆ‡å¯ç”¨æŒ‡ä»¤

**æç¤ºè¨Šæ¯**ï¼š
```
ğŸ’¡ ç¬¬ä¸‰æ–¹ Skills ç®¡ç†ï¼ˆä½¿ç”¨ npx skillsï¼‰ï¼š
   - npx skills add <package>     å®‰è£ skill å¥—ä»¶
   - npx skills install <package> åŒä¸Šï¼ˆåˆ¥åï¼‰
   - npx skills list              åˆ—å‡ºå·²å®‰è£å¥—ä»¶

   ç¯„ä¾‹ï¼šnpx skills add vercel-labs/agent-skills
```

### 5. TUI ä»‹é¢è¨­è¨ˆ

#### 5.1 æ¡†æ¶é¸æ“‡ï¼šTextual

**æ¡†æ¶æ¯”è¼ƒ**ï¼š

| æ¡†æ¶ | ç‰¹é» | å„ªé» | ç¼ºé» |
|------|------|------|------|
| **Textual** | åŸºæ–¼ Rich çš„ç¾ä»£ TUI æ¡†æ¶ | 120 FPSã€CSS æ¨£å¼ã€10k widgetsã€æ»‘é¼ æ”¯æ´ | è¨˜æ†¶é«”è¼ƒå¤§ |
| **Rich** | çµ‚ç«¯æ©Ÿæ–‡å­—æ ¼å¼åŒ– | å·²åœ¨å°ˆæ¡ˆä½¿ç”¨ã€è¼•é‡ | åƒ…æ ¼å¼åŒ–ï¼Œç„¡äº’å‹•å…ƒä»¶ |
| **urwid** | è€ç‰Œ TUI æ¡†æ¶ï¼ˆ20+ å¹´ï¼‰ | ç©©å®šæˆç†Ÿã€æ–‡ä»¶å®Œæ•´ | 5k widgets OOMã€20 FPS |
| **prompt_toolkit** | äº’å‹•å¼å‘½ä»¤åˆ—å·¥å…· | é©åˆ REPL/CLI | éå®Œæ•´ TUI æ¡†æ¶ |
| **PyTermGUI** | è¼•é‡ TUI æ¡†æ¶ | æ»‘é¼ æ”¯æ´ã€å¿«é€Ÿæ¨™è¨˜èªè¨€ | ç¤¾ç¾¤è¼ƒå° |

**é¸æ“‡ Textual çš„ç†ç”±**ï¼š
1. **èˆ‡ Rich æ•´åˆ**ï¼šå°ˆæ¡ˆå·²ä½¿ç”¨ Richï¼ŒTextual æ˜¯ Rich çš„ä¸Šå±¤æ¡†æ¶
2. **æ•ˆèƒ½å„ªå‹¢**ï¼š120 FPS vs urwid çš„ 20 FPS
3. **ç¾ä»£é–‹ç™¼é«”é©—**ï¼šCSS æ¨£å¼ã€éŸ¿æ‡‰å¼ç¨‹å¼è¨­è¨ˆ
4. **åŠŸèƒ½å®Œæ•´**ï¼šCheckboxã€Selectã€Buttonã€ListViewã€Input ç­‰å…ƒä»¶é½Šå…¨
5. **é–‹ç™¼æ•ˆç‡**ï¼šæ ¹æ“š 2024 PyCon åŸºæº–ï¼Œé–‹ç™¼æ™‚é–“æ¸›å°‘ 40%

#### 5.2 TUI ä½ˆå±€è¨­è¨ˆ

**æ–°å¢æª”æ¡ˆ**ï¼š`script/tui/app.py`

**å•Ÿå‹•æŒ‡ä»¤**ï¼š
```bash
uv run script/main.py tui
```

**ä»‹é¢ä½ˆå±€**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Development Environment Manager                    [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [Install] [Maintain] [Status] [Add Skills]      [Quit] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Target: [Claude Code â–¼]    Type: [Skills â–¼]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [x] ai-collaboration-standards     (uds)               â”‚ â”‚
â”‚ â”‚ [x] changelog-guide                (uds)               â”‚ â”‚
â”‚ â”‚ [x] checkin-assistant              (uds)               â”‚ â”‚
â”‚ â”‚ [x] code-review-assistant          (uds)               â”‚ â”‚
â”‚ â”‚ [x] commit-standards               (uds)               â”‚ â”‚
â”‚ â”‚ [x] json-canvas                    (obsidian)          â”‚ â”‚
â”‚ â”‚ [x] obsidian-bases                 (obsidian)          â”‚ â”‚
â”‚ â”‚ [x] obsidian-markdown              (obsidian)          â”‚ â”‚
â”‚ â”‚ [x] skill-creator                  (anthropic)         â”‚ â”‚
â”‚ â”‚ [ ] git-commit-custom              (custom)  [user]    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Space] Toggle  [A] All  [N] None  [S] Save  [P] Add Pkg   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Add Skills å°è©±æ¡†**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Add Third-Party Skills                                [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Package: [vercel-labs/agent-skills                    ]   â”‚
â”‚                                                             â”‚
â”‚  Examples:                                                  â”‚
â”‚    - vercel-labs/agent-skills                              â”‚
â”‚    - anthropics/skills                                     â”‚
â”‚    - your-org/your-skills                                  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    [Install]                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  Output:                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ $ npx skills add vercel-labs/agent-skills          â”‚   â”‚
â”‚  â”‚ Installing...                                       â”‚   â”‚
â”‚  â”‚ âœ“ Successfully installed agent-skills              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**TUI åŠŸèƒ½**ï¼š

| å€åŸŸ | åŠŸèƒ½ |
|------|------|
| é ‚éƒ¨æŒ‰éˆ•åˆ— | Install/Maintain/Status/Add Skills å¿«é€Ÿæ“ä½œ |
| Target ä¸‹æ‹‰é¸å–® | åˆ‡æ›ç›®æ¨™å·¥å…·ï¼ˆClaude/Antigravity/OpenCodeï¼‰ |
| Type ä¸‹æ‹‰é¸å–® | åˆ‡æ›è³‡æºé¡å‹ï¼ˆSkills/Commands/Agentsï¼‰ |
| è³‡æºåˆ—è¡¨ | Checkbox å‹¾é¸å•Ÿç”¨/åœç”¨ |
| åº•éƒ¨å¿«æ·éµ | Space åˆ‡æ›ã€A å…¨é¸ã€N å…¨å–æ¶ˆã€S å„²å­˜ã€P æ–°å¢å¥—ä»¶ |
| Add Skills å°è©±æ¡† | è¼¸å…¥å¥—ä»¶åç¨±ï¼ŒåŸ·è¡Œ `npx skills add` |

#### 5.3 TUI å…ƒä»¶çµæ§‹

```python
# script/tui/app.py
from textual.app import App
from textual.widgets import Header, Footer, Button, Select, ListView, Input
from textual.screen import ModalScreen

class AddSkillsModal(ModalScreen):
    """æ–°å¢ç¬¬ä¸‰æ–¹ Skills çš„å°è©±æ¡†ã€‚"""

    def compose(self):
        yield Static("Package:")
        yield Input(placeholder="vercel-labs/agent-skills", id="package-input")
        yield Button("Install", id="install-btn")
        yield Static("Output:", id="output-label")
        yield Log(id="output-log")  # é¡¯ç¤º npx skills add è¼¸å‡º

    async def on_button_pressed(self, event):
        if event.button.id == "install-btn":
            package = self.query_one("#package-input").value
            await self.run_npx_skills_add(package)

    async def run_npx_skills_add(self, package: str):
        """åŸ·è¡Œ npx skills add <package> ä¸¦é¡¯ç¤ºè¼¸å‡ºã€‚"""
        import asyncio
        log = self.query_one("#output-log")
        log.write(f"$ npx skills add {package}\n")

        proc = await asyncio.create_subprocess_exec(
            "npx", "skills", "add", package,
            stdout=asyncio.subprocess.PIPE,
            stderr=asyncio.subprocess.STDOUT,
        )

        async for line in proc.stdout:
            log.write(line.decode())

        await proc.wait()
        if proc.returncode == 0:
            log.write("âœ“ Installation complete\n")
        else:
            log.write("âœ— Installation failed\n")


class SkillManagerApp(App):
    CSS_PATH = "styles.tcss"
    BINDINGS = [
        ("q", "quit", "Quit"),
        ("space", "toggle_selected", "Toggle"),
        ("a", "select_all", "Select All"),
        ("n", "select_none", "Select None"),
        ("s", "save", "Save"),
        ("p", "add_package", "Add Package"),
    ]

    def compose(self):
        yield Header()
        yield ButtonBar()      # Install, Maintain, Status, Add Skills
        yield FilterBar()      # Target, Type dropdowns
        yield ResourceList()   # Checkbox list
        yield Footer()

    def action_add_package(self):
        """é–‹å•Ÿ Add Skills å°è©±æ¡†ã€‚"""
        self.push_screen(AddSkillsModal())
```

## Data Flow

### Install æµç¨‹ï¼ˆå«è­¦å‘Šï¼‰

```
install
  â”œâ”€ æª¢æŸ¥å‰ç½®éœ€æ±‚
  â”œâ”€ å®‰è£ NPM å¥—ä»¶ï¼ˆå« skillsï¼‰
  â”œâ”€ å»ºç«‹ç›®éŒ„
  â”œâ”€ Clone å„²å­˜åº«
  â”œâ”€ è¤‡è£½ Skills
  â”œâ”€ é¡¯ç¤ºå·²å®‰è£æ¸…å–®èˆ‡è­¦å‘Š â† æ–°å¢
  â””â”€ é¡¯ç¤º npx skills æç¤º â† æ–°å¢
```

### List æµç¨‹

```
list --type skills --target claude
  â”œâ”€ è®€å–ç›®æ¨™ç›®éŒ„ (~/.claude/skills/)
  â”œâ”€ æƒææ‰€æœ‰å­ç›®éŒ„
  â”œâ”€ æ¯”å°ä¾†æºï¼ˆUDS/Obsidian/Anthropic/Custom/Userï¼‰
  â””â”€ è¼¸å‡ºè¡¨æ ¼
```

### Toggle æµç¨‹

```
toggle --target claude --type skills --name foo --disable
  â”œâ”€ è®€å– toggle-config.yaml
  â”œâ”€ æ›´æ–°å°æ‡‰è¨­å®š
  â”œâ”€ å¯«å› toggle-config.yaml
  â””â”€ åŸ·è¡Œ copy_skills() é‡æ–°åŒæ­¥
```

### TUI æµç¨‹

```
tui
  â”œâ”€ è¼‰å…¥ toggle-config.yaml
  â”œâ”€ æƒæå„ç›®æ¨™ç›®éŒ„çš„è³‡æº
  â”œâ”€ é¡¯ç¤ºäº’å‹•å¼ä»‹é¢
  â”‚   â”œâ”€ ä½¿ç”¨è€…åˆ‡æ› Target/Type
  â”‚   â”œâ”€ ä½¿ç”¨è€…å‹¾é¸/å–æ¶ˆå‹¾é¸è³‡æº
  â”‚   â”œâ”€ ä½¿ç”¨è€…é»æ“Š Install/Maintain/Status
  â”‚   â””â”€ ä½¿ç”¨è€…é»æ“Š Add Skills â†’ é–‹å•Ÿå°è©±æ¡†
  â”‚       â”œâ”€ è¼¸å…¥å¥—ä»¶åç¨±
  â”‚       â”œâ”€ åŸ·è¡Œ npx skills add <package>
  â”‚       â””â”€ é¡¯ç¤ºå³æ™‚è¼¸å‡º
  â”œâ”€ å„²å­˜æ™‚å¯«å› toggle-config.yaml
  â””â”€ åŸ·è¡Œ copy_skills() é‡æ–°åŒæ­¥
```

## Migration Strategy

1. æ–°å¢åŠŸèƒ½ä¸å½±éŸ¿ç¾æœ‰è¡Œç‚º
2. Toggle é…ç½®æª”æ¡ˆä¸å­˜åœ¨æ™‚ä½¿ç”¨é è¨­å€¼ï¼ˆå…¨éƒ¨å•Ÿç”¨ï¼‰
3. TUI ç‚ºé¸ç”¨åŠŸèƒ½ï¼ŒCLI æŒ‡ä»¤ä»å¯ç¨ç«‹ä½¿ç”¨

## Open Questions

1. **OpenCode æ˜¯å¦éœ€è¦ç¨ç«‹çš„ skills è·¯å¾‘**ï¼šç›®å‰ OpenCode é è¨­è®€å– Claude Code è·¯å¾‘ï¼Œæ˜¯å¦éœ€è¦ç¨ç«‹é…ç½®ï¼Ÿ
